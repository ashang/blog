---
layout: post
title: script returned error exit
date: 2010-10-31 16:43:31.000000000 +08:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories: []
tags: []
meta:
  reddit: a:2:{s:5:"count";i:0;s:4:"time";i:1405325322;}
author:
---

dpkg error:

/var/lib/dpkg/info/XXX.postrm: 24: update-inetd: not found<br />
dpkg: warning - old post-removal script returned error exit status 127<br />
dpkg - trying script from the new package instead ...<br />
/var/lib/dpkg/<a href="http://tmp.ci/postrm">tmp.ci/postrm</a>: /var/lib/dpkg/<a href="http://tmp.ci/postrm">tmp.ci/postrm</a>: 24: update-inetd: not found<br />
dpkg: error processing /var/cache/apt/archives/XXX.deb (--unpack):<br />
subprocess new post-removal script returned error exit status 127<br />
/var/lib/dpkg/<a href="http://tmp.ci/postrm">tmp.ci/postrm</a>: /var/lib/dpkg/<a href="http://tmp.ci/postrm">tmp.ci/postrm</a>: 24: update-inetd: not found<br />
dpkg: error while cleaning up:<br />
subprocess post-removal script returned error exit status 127<br />
Errors were encountered while processing:<br />
/var/cache/apt/archives/XXX.deb<br />
E: Sub-process /usr/bin/dpkg returned an error code (1)

A dirty workaround for such cases to let return true:

cd /usr/sbin<br />
mv update-inetd update-inetd.save<br />
ln -s /bin/true update-inetd
